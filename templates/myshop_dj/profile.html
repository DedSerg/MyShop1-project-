{% extends 'myshop_dj/base.html' %}

{% block title %}Профиль{% endblock %}

{% block content %}
    <style>
        .profile-container {
            max-width: 600px;  /* Максимальная ширина контейнера */
            margin: 0 auto;  /* Центрирование контейнера */
            padding: 20px;  /* Внутренний отступ */
            border: 1px solid #ccc;  /* Граница */
            border-radius: 8px;  /* Скругление углов */
            background-color: #f9f9f9;  /* Цвет фона */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);  /* Тень */
        }

        .profile-info {
            margin-bottom: 20px;  /* Отступ снизу */
        }

        .profile-item {
            margin-bottom: 10px;  /* Отступ между элементами */
            font-size: 18px;  /* Размер шрифта */
        }

        .profile-item strong {
            color: #333;  /* Цвет для заголовков */
        }

        .button {
            display: inline-block;  /* Отображение в строку */
            padding: 10px 15px;  /* Внутренний отступ */
            margin-top: 10px;  /* Отступ сверху */
            background-color: #007bff;  /* Цвет фона кнопки */
            color: white;  /* Цвет текста */
            text-decoration: none;  /* Убираем подчеркивание */
            border-radius: 5px;  /* Скругление углов кнопки */
            transition: background-color 0.3s;  /* Плавный переход цвета фона */
            border: none;  /* Убираем границу */
            cursor: pointer;  /* Указатель при наведении */
        }

        .button:hover {
            background-color: #0056b3;  /* Цвет фона при наведении */
        }
    </style>

    <div class="profile-container">
        <h1>Профиль пользователя</h1>

        <div class="profile-info">
            <div class="profile-item">
                <strong>Фото:</strong>
                <div>
                    <img src="{{ user_profile.profile_picture.url }}" alt="Фото пользователя" style="max-width: 150px; border-radius: 8px;">
                </div>
            </div>
            <div class="profile-item">
                <strong>Имя:</strong>
                <span>{{ user.username }}</span>
            </div>
            <div class="profile-item">
                <strong>Email:</strong>
                <span>{{ user.email }}</span>
            </div>
        </div>

        <form method="post" enctype="multipart/form-data">  <!-- Обязательно добавьте enctype -->
            {% csrf_token %}
            <div class="profile-item">
                <strong>Загрузить аватар:</strong>
                {{ form.profile_picture }}  <!-- Отображение поля для загрузки файла -->
            </div>
            <button type="submit" class="button">Сохранить аватар</button>  <!-- Кнопка для сохранения -->
        </form>

        <form action="{% url 'logout' %}" method="post">
            {% csrf_token %}
            <button type="submit" class="button">Выйти</button>  <!-- Кнопка для выхода -->
        </form>

        <a href="{% url 'category_list' %}" class="button">Перейти к покупкам</a>
    </div>
{% endblock %}